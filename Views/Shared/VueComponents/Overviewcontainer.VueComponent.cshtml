<script>
    app.component('mapcontainer', {
        data: function () {
            return {
                myMap: null,
                latitude: 0,
                longitude:0
            }
        },
        mounted() {
            Axios.get(`/Device/OverviewContainer/`)
                .then((response) => {
                    this.devices = response.data
                    this.initMap();
                })
        },
        methods: {
            initMap() {
                var myMap = L.map('myOverview').setView([this.latitude, this.longitude], 11);
                L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {
                    attribution: 'données © OpenStreetMap/ODbL - rendu OSM France',
                    minZoom: 1,
                    maxZoom: 20
                }).addTo(myMap);
                marker = L.marker([this.latitude, this.longitude]).addTo(myMap);

            },

        },
        props: { device_id: String },

        template: `
                #myOverview`
    })
</script>


